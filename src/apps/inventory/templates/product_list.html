{% extends 'base.html' %}

{% block content %}
  <h1>Product List</h1>

  <form method="get">
    {{filter.form.as_p}}
    <button type="submit">Apply Filters</button>
  </form>

  <form method="get" class="ordering-form">
    <label for="order_by">Order by:</label>
    <select id="order_by" name="order_by">
      <option value="">None</option>
      <option value="name">Name (A-Z)</option>
      <option value="-name">Name (Z-A)</option>
      <option value="price">Price (Low to High)</option>
      <option value="-price">Price (High to Low)</option>
    </select>
    <button type="submit">Apply Order</button>
  </form>

  <div class="product-list">
    {% for product in products %}
      <div class="product-card">
        <h2><a href="{% url 'product_detail' product.category.slug product.slug %}">{{ product.name }}</a></h2>
        <p>Category: {{ product.category.name }}</p>
        <p>Price: ${{ product.price }}</p>
        <p>Seller: {{ product.seller.username }}</p>
      </div>
    {% empty %}
      <p>No products found.</p>
    {% endfor %}
  </div>

{% endblock %}
